//
//  GameScene+Generators.swift
//  Intro
//
//  Created by Marcos Morais on 31/03/19.
//  Copyright Â© 2019 Developer Academy UCB. All rights reserved.
//

import SpriteKit

extension GameScene {
    
    // MARK: Utils
    
    func generateEnemy(timePerEnemy: TimeInterval) {
        
        let createEnemy = SKAction.run {
            let xPosition = CGFloat.random(in: (self.scene?.size.width)!*0.08...(self.scene?.size.width)!*0.92)
            let yPosition = CGFloat((self.scene?.size.height)!*1)
            //print to discover the value of y point on scene
            //print((self.scene?.size.height)!)
            self.createEnemy(position: CGPoint(x: xPosition, y: yPosition))
        }
        let waitInBetween = SKAction.wait(forDuration: timePerEnemy*(TimeInterval.random(in: 0.55...1.5)))
        
        let sequence = SKAction.sequence([createEnemy, waitInBetween])
        
        let repeatForever = SKAction.repeatForever(sequence)
        
        self.run(repeatForever)
        
    }
}
